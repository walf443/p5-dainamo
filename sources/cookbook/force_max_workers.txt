あるワーカーを特定のプロセス数に制限したい
-------------------------------------------

外部サービスのAPIを叩くようなworkerの場合、同時接続数などにある程度制限をかけつつ叩かないと、アカウントがBANされたりしてしまうことがあります。そういうときは、dainamoの計算してくれるプロセス数よりも、明示的に指定した方がわかりやすいでしょう。

Profileを指定する際にforce_max_workersを指定してやれば、そちらの設定が優先されます。

.. literalinclude:: force_max_workers.pl
    :language: perl

なお、自動計算されたプロセス数よりも大きな値を指定した場合、dainamoの起動時にログへWARNが出力されます。
